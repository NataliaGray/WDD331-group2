/***********************************
ORGANISMS (EFFECTS)
************************************/
@use "variables" as *; //this puts all the variables in the global namespace.

// flashlight
header:hover, .summary:hover, .preamble:hover, .explanation:hover, .participation:hover, .benefits:hover, .requirements:hover, footer:hover {
    & h1, h2, h3, p {
        text-shadow: 0px 0px 60px #fff, 0px 0px 2px $glow;
        -moz-transition: all 0.2s ease-in;
        -o-transition: all 0.2s ease-in;
        -webkit-transition: all 0.2s ease-in;
        transition: all 0.1s ease-in;
        opacity: 0.9;
    }
}

    // night sky twinkle (x, y, z)
    @keyframes move-background {
        from {
            -webkit-transform: translate3d( 0px, 0px, 0px );
        }
        to { 
            -webkit-transform: translate3d( 1000px, 0px, 250px );
        }
    }
    /*
    @-webkit-keyframes move-background {
        from {
            -webkit-transform: translate3d(0px, 0px, 0px);
        }
        to { 
            -webkit-transform: translate3d(1000px, 0px, 0px);
        }
    }  
    @-moz-keyframes move-background {    
    from {
            -webkit-transform: translate3d(0px, 0px, 0px);
        }
        to { 
            -webkit-transform: translate3d(1000px, 0px, 0px);
        }
    }
    @-webkit-keyframes move-background {
        from {
            -webkit-transform: translate3d(0px, 0px, 0px);
        }
        to { 
            -webkit-transform: translate3d(1000px, 0px, 0px);
        }
    }*/
    .page-wrapper::before {
        content:"";
        width:10000px;
        height: 100%;
        bheight: 100%;
        bbackground-image: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/1231630/clouds_repeat.png"),  url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/1231630/twinkling.png");
        bbackground-image: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/1231630/twinkling.png");
        background-image: url("https://s3-us-west-2.amazonaws.com/s.cdpn.io/1231630/stars.png");
        background-size: 1000px 1000px;
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        z-index: -1;
        
        -moz-animation:move-background 150s linear infinite;
        -ms-animation:move-background 150s linear infinite;
        -o-animation:move-background 150s linear infinite;
        -webkit-animation:move-background 150s linear infinite;
        animation:move-background 200s linear infinite;
    }



@media only screen and (min-width: 600px) {

    // NIGHT SKY GOES HERE ...

    // fireflies
    ul, li a {
        list-style: circle;
        color: $campfire-yellow;
        text-shadow: 0px 0px 60px $campfire-yellow;
    }    

    $quantity: 14;

    li {
        position: relative;
        left: 50%;
        top: 50%;
        width: 0.4vw;
        height: 0.4vw;
        margin: -0.2vw 0 0 9.8vw;
        animation: ease 200s alternate infinite;
        pointer-events: none;

        &::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            transform-origin: -10vw;
        }
        
        &::before {
            background: $black;
            opacity: 0.4;
            animation: drift ease alternate infinite;
        }
        &::after {
            background: white;
            opacity: 0;
            box-shadow: 0 0 0vw 0vw $campfire-yellow;
            animation: drift ease alternate infinite, flash ease infinite;
        }
    } 

    // Randomize Fireflies Motion
    @for $i from 1 through $quantity {
    
        $steps: random(12) + 16;
        $rotationSpeed: random(10) + 8s;
        
        li:nth-child(#{$i}) {
            animation-name: move#{$i};

            &::before {
            animation-duration: #{$rotationSpeed};
            }

            &::after {
            animation-duration: #{$rotationSpeed}, random(6000) + 5000ms;
            animation-delay: 0ms, random(8000) + 500ms;
            }
        }

        @keyframes move#{$i} {
            @for $step from 0 through $steps {
                #{$step * (100 / $steps)}% {
                    transform: translateX(random(100) - 50vw) translateY(random(100) - 50vh) scale(random(75) / 100 + .25);
                }
            }
        }
    }

    @keyframes drift {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }

    @keyframes flash {
        0%, 30%, 100% {
            opacity: 0;
            box-shadow: 0 0 0vw 0vw $campfire-yellow;
        }
        5% {
            opacity: 1;
            box-shadow: 0 0 2vw 0.4vw $campfire-yellow;
        }
    }
}